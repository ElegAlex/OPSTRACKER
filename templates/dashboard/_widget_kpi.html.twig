{# T-705 : Widget KPI individuel pour Turbo Frame #}
<div class="card-elevated border-2 border-ink p-6 relative overflow-hidden">
    <div class="absolute top-0 left-0 w-full h-2 bg-{{ data.color }}"></div>
    <div class="flex items-start justify-between mb-4">
        <div class="w-12 h-12 bg-{{ data.color }}/10 flex items-center justify-center">
            <i data-feather="{{ data.icon }}" class="w-6 h-6 text-{{ data.color }}"></i>
        </div>
        {% if widget == 'realise' and data.today is defined and data.today > 0 %}
            <span class="text-xs font-semibold text-{{ data.color }} uppercase tracking-wider">+{{ data.today }} aujourd'hui</span>
        {% elseif widget == 'reporte' and data.week is defined and data.week > 0 %}
            <span class="text-xs font-semibold text-{{ data.color }} uppercase tracking-wider">+{{ data.week }} cette semaine</span>
        {% elseif widget == 'a_remedier' and data.count > 0 %}
            <span class="text-xs font-semibold text-{{ data.color }} uppercase tracking-wider">Action requise</span>
        {% endif %}
    </div>
    <p class="text-5xl font-bold num text-ink mb-1">{{ data.count }}</p>
    <p class="text-sm font-medium text-muted uppercase tracking-wide">{{ data.label }}</p>
    <div class="mt-4 pt-4 border-t border-ink/10">
        <div class="h-1.5 bg-paper">
            <div class="h-full bg-{{ data.color }}" style="width: {{ data.percentage }}%"></div>
        </div>
        <p class="text-xs text-muted mt-2">{{ data.percentage }}% du total</p>
    </div>
</div>
