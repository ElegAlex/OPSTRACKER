{#
    Badge de statut avec triple signalisation RGAA (RG-080)
    - Icone
    - Couleur
    - Texte

    Usage: {% include 'terrain/_status_badge.html.twig' with {statut: 'planifie'} %}
#}
{% set labels = {
    'a_planifier': 'A planifier',
    'planifie': 'Planifie',
    'en_cours': 'En cours',
    'realise': 'Realise',
    'reporte': 'Reporte',
    'a_remedier': 'A remedier',
    'a_replanifier': 'A replanifier'
} %}

{% set couleurs = {
    'a_planifier': 'muted',
    'planifie': 'primary',
    'en_cours': 'success',
    'realise': 'success',
    'reporte': 'warning',
    'a_remedier': 'danger',
    'a_replanifier': 'warning'
} %}

{% set icones = {
    'a_planifier': 'clock',
    'planifie': 'clock',
    'en_cours': 'zap',
    'realise': 'check-circle',
    'reporte': 'pause-circle',
    'a_remedier': 'alert-triangle',
    'a_replanifier': 'calendar'
} %}

{% set couleur = couleurs[statut] ?? 'muted' %}
{% set label = labels[statut] ?? statut %}
{% set icone = icones[statut] ?? 'circle' %}

<span class="inline-flex items-center gap-1 px-2 py-0.5 bg-{{ couleur }}/10 text-{{ couleur }} text-xs font-semibold">
    <i data-feather="{{ icone }}" class="w-3 h-3"></i>
    {{ label }}
</span>
