<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpsTracker — Réserver mon créneau</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        ink: '#0a0a0a',
                        paper: '#f5f5f0',
                        cream: '#fafaf5',
                        primary: '#2563eb',
                        success: '#059669',
                        warning: '#d97706',
                        danger: '#dc2626',
                        muted: '#6b6b6b',
                    }
                }
            }
        }
    </script>
    <style>
        .num { font-variant-numeric: tabular-nums; letter-spacing: -0.03em; }
        /* Slot selectable */
        .slot-card {
            transition: all 0.15s ease;
        }
        .slot-card:hover:not(.slot-full):not(.slot-selected) {
            border-color: #2563eb;
            background: rgba(37, 99, 235, 0.05);
        }
        .slot-selected {
            border-color: #2563eb;
            background: rgba(37, 99, 235, 0.1);
            box-shadow: inset 0 0 0 2px #2563eb;
        }
        .slot-full {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-paper font-sans min-h-screen">
    
    <!-- ============================================== -->
    <!-- HEADER PUBLIC (pas de nav complexe)            -->
    <!-- ============================================== -->
    <header class="bg-white border-b-2 border-ink">
        <div class="max-w-2xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-ink flex items-center justify-center">
                        <span class="text-white font-bold">O</span>
                    </div>
                    <div>
                        <p class="font-bold text-ink">Organisation</p>
                        <p class="text-xs text-muted">Migration Windows 11</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm font-medium text-ink">Marie DUPONT</p>
                    <p class="text-xs text-muted">Matricule A12345</p>
                </div>
            </div>
        </div>
    </header>

    <!-- ============================================== -->
    <!-- CONTENU PRINCIPAL                              -->
    <!-- ============================================== -->
    <main class="max-w-2xl mx-auto px-4 py-6">
        
        <!-- Étape indicator -->
        <div class="flex items-center gap-2 mb-6">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-primary text-white flex items-center justify-center font-bold text-sm">1</div>
                <span class="text-sm font-medium text-ink">Choisir un créneau</span>
            </div>
            <div class="flex-1 h-0.5 bg-ink/20"></div>
            <div class="flex items-center gap-2 opacity-40">
                <div class="w-8 h-8 bg-ink/20 text-ink flex items-center justify-center font-bold text-sm">2</div>
                <span class="text-sm font-medium text-muted">Confirmer</span>
            </div>
        </div>

        <!-- Titre -->
        <div class="mb-6">
            <h1 class="text-2xl font-bold text-ink mb-2">Choisissez votre créneau</h1>
            <p class="text-sm text-muted">
                Sélectionnez un créneau pour la migration de votre poste. 
                L'intervention dure environ <strong>45 minutes</strong>.
            </p>
        </div>

        <!-- Alerte info -->
        <div class="bg-primary/10 border-l-4 border-primary p-4 mb-6">
            <div class="flex gap-3">
                <i data-feather="info" class="w-5 h-5 text-primary flex-shrink-0 mt-0.5"></i>
                <div class="text-sm">
                    <p class="font-medium text-ink">Pensez à sauvegarder vos documents</p>
                    <p class="text-muted">Avant l'intervention, assurez-vous que vos fichiers sont sur OneDrive.</p>
                </div>
            </div>
        </div>

        <!-- Sélecteur de semaine -->
        <div class="flex items-center justify-between mb-4">
            <button class="p-2 hover:bg-ink/5 transition-colors">
                <i data-feather="chevron-left" class="w-6 h-6 text-ink"></i>
            </button>
            <h2 class="font-bold text-lg text-ink">Semaine du 27 au 31 janvier 2026</h2>
            <button class="p-2 hover:bg-ink/5 transition-colors">
                <i data-feather="chevron-right" class="w-6 h-6 text-ink"></i>
            </button>
        </div>

        <!-- Grille des créneaux par jour -->
        <div class="space-y-4 mb-8">
            
            <!-- Lundi -->
            <div class="bg-white border-2 border-ink">
                <div class="bg-ink text-white px-4 py-2 flex items-center justify-between">
                    <span class="font-bold">Lundi 27 janvier</span>
                    <span class="text-sm opacity-70">4 créneaux disponibles</span>
                </div>
                <div class="p-4 grid grid-cols-2 sm:grid-cols-4 gap-2">
                    <!-- Créneau disponible -->
                    <button class="slot-card border-2 border-ink/30 p-3 text-center hover:border-primary">
                        <p class="font-bold text-ink">09:00</p>
                        <p class="text-xs text-success font-medium">3 places</p>
                    </button>
                    
                    <!-- Créneau disponible -->
                    <button class="slot-card border-2 border-ink/30 p-3 text-center hover:border-primary">
                        <p class="font-bold text-ink">10:00</p>
                        <p class="text-xs text-success font-medium">2 places</p>
                    </button>
                    
                    <!-- Créneau complet -->
                    <button class="slot-card slot-full border-2 border-ink/30 p-3 text-center" disabled>
                        <p class="font-bold text-ink">11:00</p>
                        <p class="text-xs text-danger font-medium">Complet</p>
                    </button>
                    
                    <!-- Créneau sélectionné -->
                    <button class="slot-card slot-selected border-2 p-3 text-center">
                        <p class="font-bold text-primary">14:00</p>
                        <p class="text-xs text-primary font-medium">✓ Sélectionné</p>
                    </button>
                </div>
            </div>

            <!-- Mardi -->
            <div class="bg-white border-2 border-ink">
                <div class="bg-ink text-white px-4 py-2 flex items-center justify-between">
                    <span class="font-bold">Mardi 28 janvier</span>
                    <span class="text-sm opacity-70">6 créneaux disponibles</span>
                </div>
                <div class="p-4 grid grid-cols-2 sm:grid-cols-4 gap-2">
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">09:00</p>
                        <p class="text-xs text-success font-medium">4 places</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">10:00</p>
                        <p class="text-xs text-success font-medium">4 places</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">11:00</p>
                        <p class="text-xs text-success font-medium">3 places</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">14:00</p>
                        <p class="text-xs text-success font-medium">4 places</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">15:00</p>
                        <p class="text-xs text-warning font-medium">1 place</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">16:00</p>
                        <p class="text-xs text-success font-medium">2 places</p>
                    </button>
                </div>
            </div>

            <!-- Mercredi -->
            <div class="bg-white border-2 border-ink">
                <div class="bg-ink text-white px-4 py-2 flex items-center justify-between">
                    <span class="font-bold">Mercredi 29 janvier</span>
                    <span class="text-sm opacity-70">2 créneaux disponibles</span>
                </div>
                <div class="p-4 grid grid-cols-2 sm:grid-cols-4 gap-2">
                    <button class="slot-card slot-full border-2 border-ink/30 p-3 text-center" disabled>
                        <p class="font-bold text-ink">09:00</p>
                        <p class="text-xs text-danger font-medium">Complet</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">10:00</p>
                        <p class="text-xs text-warning font-medium">1 place</p>
                    </button>
                    <button class="slot-card slot-full border-2 border-ink/30 p-3 text-center" disabled>
                        <p class="font-bold text-ink">11:00</p>
                        <p class="text-xs text-danger font-medium">Complet</p>
                    </button>
                    <button class="slot-card border-2 border-ink/30 p-3 text-center">
                        <p class="font-bold text-ink">14:00</p>
                        <p class="text-xs text-warning font-medium">1 place</p>
                    </button>
                </div>
            </div>

        </div>

        <!-- Récap sélection -->
        <div class="bg-white border-2 border-primary p-4 mb-6">
            <h3 class="font-bold text-ink mb-3 flex items-center gap-2">
                <i data-feather="calendar" class="w-5 h-5 text-primary"></i>
                Votre sélection
            </h3>
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-lg font-bold text-ink">Lundi 27 janvier à 14h00</p>
                    <p class="text-sm text-muted">Durée estimée : 45 minutes</p>
                </div>
                <button class="text-sm text-primary hover:underline">Modifier</button>
            </div>
        </div>

        <!-- Bouton confirmer -->
        <button class="w-full bg-primary text-white font-bold text-lg py-4 flex items-center justify-center gap-3 hover:bg-primary/90 transition-colors">
            <i data-feather="check" class="w-6 h-6"></i>
            CONFIRMER MON CRÉNEAU
        </button>

        <p class="text-xs text-muted text-center mt-4">
            Vous recevrez un email de confirmation avec une invitation calendrier.
        </p>

    </main>

    <!-- ============================================== -->
    <!-- FOOTER SIMPLE                                  -->
    <!-- ============================================== -->
    <footer class="border-t border-ink/10 mt-12 py-6">
        <div class="max-w-2xl mx-auto px-4 text-center text-xs text-muted">
            <p>Organisation — Direction des Systèmes d'Information</p>
            <p class="mt-1">Un problème ? Contactez le support au <strong>01 23 45 67 89</strong></p>
        </div>
    </footer>

    <script>
        feather.replace();
        
        // Gestion sélection créneaux
        document.querySelectorAll('.slot-card:not(.slot-full)').forEach(slot => {
            slot.addEventListener('click', function() {
                // Désélectionner tous
                document.querySelectorAll('.slot-card').forEach(s => {
                    s.classList.remove('slot-selected');
                    const label = s.querySelector('.text-xs');
                    if (label && label.textContent.includes('Sélectionné')) {
                        label.textContent = label.dataset.original || 'Disponible';
                        label.classList.remove('text-primary');
                        label.classList.add('text-success');
                    }
                });
                
                // Sélectionner celui-ci
                this.classList.add('slot-selected');
                const label = this.querySelector('.text-xs');
                if (label) {
                    label.dataset.original = label.textContent;
                    label.textContent = '✓ Sélectionné';
                    label.classList.remove('text-success', 'text-warning');
                    label.classList.add('text-primary');
                }
                
                // Update time display
                const time = this.querySelector('.font-bold').textContent;
                const day = this.closest('.bg-white').querySelector('.bg-ink span').textContent;
            });
        });
    </script>
</body>
</html>
