# P5.1 - Plan de Test & Qualification

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üß™ **PLAN DE TEST OPSTRACKER** Version : 1.0 Date : 24 janvier 2026 Niveau de confiance : **95%**
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

---

## 1. Vue d'Ensemble

### 1.1 P√©rim√®tre de Test

|√âl√©ment|Quantit√©|Source|
|---|---|---|
|**User Stories**|85|P4.1|
|**EPICs**|12|P4.1|
|**R√®gles M√©tier**|~55|P4.1 ¬ß3|
|**Personas**|7|P1.3|
|**NFR (Exigences non-fonctionnelles)**|15+|P4.2|

### 1.2 Objectifs de Qualification

|Objectif|Cible|Mesure|
|---|---|---|
|Couverture fonctionnelle|100% US MVP + V1|Sc√©narios BDD passants|
|Couverture code|‚â•80%|PHPUnit + Coverage|
|Accessibilit√© RGAA 4.1|100% crit√®res A+AA|Audit Ara + tests manuels|
|Performance dashboard|<500ms (100k ops)|k6 load tests|
|S√©curit√©|0 critique OWASP|Audit s√©curit√©|

### 1.3 Strat√©gie de Test

```mermaid
flowchart TB
    subgraph NIVEAU1["üìã Niveau 1 : Tests Unitaires"]
        U1["Services m√©tier"]
        U2["Entit√©s & Validations"]
        U3["Voters & Security"]
    end
    
    subgraph NIVEAU2["üîó Niveau 2 : Tests d'Int√©gration"]
        I1["Repositories + PostgreSQL"]
        I2["Workflows Symfony"]
        I3["Import CSV + JSONB"]
    end
    
    subgraph NIVEAU3["üåê Niveau 3 : Tests E2E"]
        E1["Parcours Sophie"]
        E2["Parcours Karim"]
        E3["Parcours Agent/Manager"]
    end
    
    subgraph NIVEAU4["‚ôø Niveau 4 : Tests Sp√©cialis√©s"]
        A1["Accessibilit√© RGAA"]
        P1["Performance & Charge"]
        S1["S√©curit√© OWASP"]
    end
    
    NIVEAU1 --> NIVEAU2 --> NIVEAU3 --> NIVEAU4
    
    style NIVEAU1 fill:#e3f2fd
    style NIVEAU2 fill:#fff3e0
    style NIVEAU3 fill:#e8f5e9
    style NIVEAU4 fill:#fce4ec
```

---

## 2. Environnements de Test

### 2.1 Stack Technique

|Composant|Version|Usage Test|
|---|---|---|
|**PHP**|8.3|PHPUnit 11|
|**Symfony**|7.4 LTS|WebTestCase|
|**PostgreSQL**|17|Fixtures Faker|
|**Redis**|7.x|Mock ou instance test|
|**Node.js**|22 LTS|Playwright|

### 2.2 Environnements

|Env|Base de donn√©es|Donn√©es|Usage|
|---|---|---|---|
|**test**|SQLite in-memory|Fixtures l√©g√®res|CI/CD, unitaires|
|**dev**|PostgreSQL local|Faker (3 campagnes, 150 ops)|Dev, int√©gration|
|**staging**|PostgreSQL CPAM|Donn√©es anonymis√©es|UAT, performance|
|**prod**|PostgreSQL CPAM|R√©elles|Post-d√©ploiement smoke|

### 2.3 Jeux de Donn√©es de Test

```yaml
# fixtures/test_data.yaml
campagnes:
  - nom: "Migration DRSM ‚Üí CPAM 92"
    statut: en_cours
    operations: 150
    segments: ["Site Nanterre", "Site Colombes", "Site Asni√®res"]
    
  - nom: "D√©ploiement Windows 11"
    statut: planifiee
    operations: 500
    segments: ["√âtage 1", "√âtage 2", "√âtage 3"]
    
  - nom: "Renouvellement Postes 2024"
    statut: terminee
    operations: 1200
    segments: ["Direction", "Production", "Support"]

utilisateurs:
  - email: sophie@cpam92.fr
    role: ROLE_GESTIONNAIRE
    
  - email: karim@cpam92.fr
    role: ROLE_TECHNICIEN
    
  - email: marc@cpam92.fr
    role: ROLE_ADMIN
    
  - email: agent1@cpam92.fr
    role: ROLE_AGENT
    
  - email: manager1@cpam92.fr
    role: ROLE_MANAGER
```

---

## 3. Tests Fonctionnels par EPIC

### 3.1 EPIC-01 : Authentification & Gestion Utilisateurs

**Personas concern√©s** : Marc (Admin), Sophie, Karim, tous

#### TC-101 : Connexion Utilisateur

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-101-01|Connexion nominale Sophie|Compte Sophie actif|1. Acc√©der /login<br>2. Saisir email/mdp valides<br>3. Cliquer "Connexion"|Redirection vers Dashboard|RG-001|
|TC-101-02|Connexion nominale Karim|Compte Karim actif|1. Acc√©der /login<br>2. Saisir email/mdp valides<br>3. Cliquer "Connexion"|Redirection vers "Mes interventions"|RG-001|
|TC-101-03|Identifiants invalides|-|Saisir email/mdp incorrects|Message "Identifiants incorrects" en rouge|RG-001|
|TC-101-04|Verrouillage apr√®s 5 √©checs|Compteur √† 4|√âchouer une 5√®me tentative|Message "Compte verrouill√© 15 min"|RG-006|
|TC-101-05|D√©verrouillage automatique|Compte verrouill√© depuis 15 min|Tenter connexion valide|Connexion r√©ussie|RG-006|
|TC-101-06|Session Remember Me|Connexion avec remember me|Fermer/rouvrir navigateur|Session conserv√©e|-|
|TC-101-07|Compte d√©sactiv√©|Compte Sophie d√©sactiv√©|Tenter connexion|Message "Compte d√©sactiv√©"|RG-005|

#### TC-102 : D√©connexion

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-102-01|D√©connexion nominale|Utilisateur connect√©|Cliquer [Sophie ‚ñº] ‚Üí "D√©connexion"|Redirection /login, session invalid√©e|

#### TC-103 : Cr√©ation Utilisateur (Admin)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-103-01|Cr√©ation nominale|Admin connect√©|1. Cliquer "+ Nouvel utilisateur"<br>2. Remplir formulaire<br>3. Valider|Compte cr√©√©, email envoy√©|RG-002, RG-003|
|TC-103-02|Email existant|Email d√©j√† utilis√©|Soumettre avec email existant|Erreur "Email d√©j√† utilis√©"|RG-002|
|TC-103-03|R√¥le Admin|Admin cr√©e compte|S√©lectionner r√¥le Admin|Permissions Admin attribu√©es|RG-003|
|TC-103-04|R√¥le Gestionnaire|Admin cr√©e compte|S√©lectionner r√¥le Gestionnaire|Permissions Gestionnaire|RG-003|
|TC-103-05|R√¥le Technicien|Admin cr√©e compte|S√©lectionner r√¥le Technicien|Permissions Technicien|RG-003|

#### TC-104 : Modification Utilisateur

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-104-01|Modification nominale|Admin connect√©|Modifier nom/email utilisateur|Toast "Utilisateur mis √† jour"|RG-004|
|TC-104-02|Auto-r√©trogradation bloqu√©e|Admin √©dite son compte|Changer son r√¥le vers Technicien|Erreur "Impossible de r√©trograder votre compte"|RG-004|

#### TC-105 : D√©sactivation/R√©activation

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-105-01|D√©sactivation|Admin connect√©|D√©cocher "Actif" pour Karim|Karim ne peut plus se connecter|RG-005|
|TC-105-02|R√©activation|Karim d√©sactiv√©|Cocher "Actif"|Karim peut se reconnecter|RG-005|
|TC-105-03|Historique pr√©serv√©|Karim d√©sactiv√©|Consulter historique op√©rations|Nom Karim toujours visible|RG-005|

#### TC-106 : Statistiques Utilisateur

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-106-01|Affichage stats|Admin connect√©|Ouvrir d√©tail utilisateur Karim|Voir interventions assign√©es/r√©alis√©es, derni√®re connexion|
|TC-106-02|Alerte inactivit√©|Utilisateur jamais connect√©|Voir liste utilisateurs|Ic√¥ne ‚ö†Ô∏è √† c√¥t√© de "Jamais"|

#### TC-107 : Changement Mot de Passe

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-107-01|Changement nominal|Sophie connect√©e|Saisir ancien + nouveau (x2) mdp|Toast "Mot de passe modifi√©", reste connect√©e|RG-001|
|TC-107-02|Ancien mdp incorrect|Sophie connect√©e|Saisir mauvais ancien mdp|Erreur "Ancien mot de passe incorrect"|RG-001|
|TC-107-03|Confirmation non identique|Sophie connect√©e|Saisir nouveaux mdp diff√©rents|Erreur "Les mots de passe ne correspondent pas"|RG-001|

---

### 3.2 EPIC-02 : Cr√©ation & Gestion des Campagnes

**Personas concern√©s** : Sophie (Gestionnaire)

#### TC-201 : Liste des Campagnes

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-201-01|Affichage group√© par statut|3 campagnes diff√©rents statuts|Acc√©der /campagnes|Campagnes group√©es : Planifi√©e, En cours, Termin√©e|RG-010|
|TC-201-02|Informations affich√©es|Campagne existante|Voir liste|Nom, dates, progression, propri√©taire visibles|-|
|TC-201-03|Tri par date|Plusieurs campagnes|Cliquer sur colonne Date|Tri croissant/d√©croissant|-|

#### TC-202 : Cr√©ation Campagne - √âtape 1/4 (Infos g√©n√©rales)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-202-01|Cr√©ation nominale|Sophie connect√©e|Remplir nom, type, dates, description|Passage √† l'√©tape 2|RG-011|
|TC-202-02|Nom obligatoire|Formulaire vide|Soumettre sans nom|Erreur "Nom obligatoire"|RG-011|
|TC-202-03|Date fin > date d√©but|Dates invers√©es|Soumettre|Erreur "Date fin doit √™tre apr√®s date d√©but"|RG-011|

#### TC-203 : Cr√©ation Campagne - √âtape 2/4 (Upload CSV)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-203-01|Import CSV nominal|CSV valide 100 lignes|Upload fichier|Pr√©visualisation 10 premi√®res lignes|RG-012|
|TC-203-02|D√©tection s√©parateur auto|CSV point-virgule|Upload|S√©parateur d√©tect√© automatiquement|RG-012|
|TC-203-03|D√©tection encodage|CSV ISO-8859-1|Upload|Encodage converti en UTF-8|RG-012|
|TC-203-04|CSV > 100k lignes|CSV 150k lignes|Upload|Erreur "Fichier trop volumineux (max 100 000)"|RG-012|
|TC-203-05|Format invalide|Fichier .xlsx|Upload|Erreur "Format non support√© (CSV requis)"|RG-012|

#### TC-204 : Cr√©ation Campagne - √âtape 3/4 (Mapping colonnes)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-204-01|Mapping nominal|CSV pr√©visualis√©|Mapper colonnes CSV ‚Üí champs OpsTracker|Validation r√©ussie|RG-014|
|TC-204-02|Matricule obligatoire|Mapping incomplet|Ne pas mapper le matricule|Erreur "Colonne matricule obligatoire"|RG-014|
|TC-204-03|Champ custom JSONB|Colonne non standard|Mapper vers champ personnalis√©|Stock√© en JSONB|RG-015|
|TC-204-04|Ligne en erreur|CSV avec ligne invalide|Valider import|Ligne skipp√©e, log erreur, autres import√©es|RG-092|

#### TC-205 : Cr√©ation Campagne - √âtape 4/4 (Workflow & Template)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-205-01|Association template|Templates existants|S√©lectionner template checklist|Template associ√© √† la campagne|RG-014|
|TC-205-02|Workflow par d√©faut|Aucun workflow custom|Valider|Workflow 6 statuts appliqu√©|RG-017|
|TC-205-03|Cr√©ation compl√®te|Toutes √©tapes valid√©es|Cliquer "Cr√©er"|Campagne cr√©√©e, statut "Planifi√©e"|RG-010|

#### TC-206 : Ajout Op√©ration Manuelle

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-206-01|Ajout nominal|Campagne existante|Cliquer "+ Op√©ration", remplir formulaire|Op√©ration ajout√©e, statut "√Ä planifier"|RG-014, RG-015|
|TC-206-02|Matricule unique|Matricule existant|Soumettre m√™me matricule|Erreur "Matricule d√©j√† existant"|RG-014|

#### TC-207 : Archiver/D√©sarchiver Campagne

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-207-01|Archivage|Campagne termin√©e|Cliquer "Archiver"|Campagne masqu√©e de la liste par d√©faut|RG-016|
|TC-207-02|D√©sarchivage|Campagne archiv√©e|Afficher archiv√©es, cliquer "D√©sarchiver"|Campagne r√©appara√Æt|RG-016|
|TC-207-03|Filtre archives|Campagnes mixtes|Cocher "Afficher archiv√©es"|Campagnes archiv√©es visibles|RG-016|

#### TC-209 : Mode Inscription

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-209-01|Mode Agent|Cr√©ation campagne|S√©lectionner "Mode Agent"|Agents peuvent s'auto-positionner|RG-110|
|TC-209-02|Mode Manager|Cr√©ation campagne|S√©lectionner "Mode Manager"|Seuls managers positionnent|RG-110|
|TC-209-03|Mode Mixte|Cr√©ation campagne|S√©lectionner "Mode Mixte"|Selon habilitations individuelles|RG-110|

#### TC-210 : Propri√©taire Campagne

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-210-01|Propri√©taire par d√©faut|Sophie cr√©e campagne|Cr√©er campagne|Sophie = propri√©taire|RG-111|
|TC-210-02|Transfert propri√©t√©|Sophie propri√©taire|Transf√©rer √† Marc|Marc devient propri√©taire|RG-111|

#### TC-211 : Visibilit√© Campagne

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-211-01|Visibilit√© restreinte d√©faut|Nouvelle campagne|Cr√©er campagne|Visible uniquement propri√©taire + habilit√©s|RG-112|
|TC-211-02|Ajout habilitation|Campagne cr√©√©e|Ajouter Marc aux habilit√©s|Marc peut voir la campagne|RG-112|

#### TC-212 : Population Cible

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-212-01|Import liste agents|CSV avec emails|Importer population cible|Seuls ces agents peuvent se positionner|RG-113|

---

### 3.3 EPIC-03 : Gestion des Op√©rations

**Personas concern√©s** : Sophie (Gestionnaire)

#### TC-301 : Liste des Op√©rations (Vue Tableau)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-301-01|Affichage tableau|Campagne avec 150 ops|Acc√©der aux op√©rations|Tableau pagin√©, 50 lignes/page|RG-080|
|TC-301-02|Colonnes affich√©es|-|Voir tableau|Matricule, Nom, Segment, Statut, Technicien, Actions|-|
|TC-301-03|Performance 100k|100k op√©rations|Charger page|Affichage <500ms|NFR-PERF|

#### TC-302 : Vue Cards (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-302-01|Basculement vue|Vue tableau active|Cliquer ic√¥ne "Cards"|Affichage en cartes|
|TC-302-02|Infos sur card|-|Voir une card|Matricule, nom, statut, couleur segment|

#### TC-303 : Filtrer les Op√©rations

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-303-01|Filtre par statut|Ops tous statuts|S√©lectionner "En cours"|Seules ops "En cours" visibles|
|TC-303-02|Filtre par segment|Ops multi-segments|S√©lectionner "Site Nanterre"|Seules ops Nanterre visibles|
|TC-303-03|Filtre par technicien|Ops assign√©es|S√©lectionner "Karim"|Seules ops de Karim visibles|
|TC-303-04|Filtres combin√©s|-|Statut + Segment|Intersection des filtres|
|TC-303-05|Reset filtres|Filtres actifs|Cliquer "R√©initialiser"|Tous les filtres effac√©s|

#### TC-304 : Modifier Statut Inline

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-304-01|Changement nominal|Op "√Ä planifier"|Cliquer dropdown ‚Üí "Planifi√©e"|Statut mis √† jour, timestamp enregistr√©|RG-017|
|TC-304-02|Transition invalide|Op "Termin√©e"|Tenter "√Ä planifier"|Erreur "Transition non autoris√©e"|RG-017|
|TC-304-03|Temps r√©el|Sophie + Karim connect√©s|Karim change statut|Dashboard Sophie mis √† jour <30s|RG-080|

#### TC-305 : Trier les Colonnes (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-305-01|Tri matricule|Liste affich√©e|Cliquer ent√™te "Matricule"|Tri A-Z puis Z-A|
|TC-305-02|Tri date|Liste affich√©e|Cliquer ent√™te "Date MAJ"|Tri chronologique|

#### TC-306 : Assigner Technicien

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-306-01|Assignation nominale|Op non assign√©e|S√©lectionner Karim dans dropdown|Karim assign√©, voit l'op dans "Mes interventions"|RG-018|
|TC-306-02|R√©assignation|Op assign√©e √† Karim|Changer pour Thomas|Thomas assign√©, Karim ne voit plus l'op|RG-018|

#### TC-307 : Exporter CSV

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-307-01|Export complet|150 op√©rations|Cliquer "Exporter CSV"|T√©l√©chargement CSV 150 lignes|
|TC-307-02|Export filtr√©|Filtre "En cours" actif|Exporter|CSV avec uniquement ops filtr√©es|

#### TC-308 : Recherche Globale

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-308-01|Recherche matricule|Op matricule "PC-2024-0042"|Saisir "PC-2024-0042"|Op√©ration trouv√©e|
|TC-308-02|Recherche nom|Op nom "DUPONT"|Saisir "DUPONT"|Op√©rations correspondantes|
|TC-308-03|Recherche multi-campagnes|-|Rechercher globalement|R√©sultats de toutes campagnes|

#### TC-309 : Supprimer Op√©ration (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-309-01|Suppression avec confirmation|Op existante|Cliquer supprimer ‚Üí Confirmer|Op supprim√©e|
|TC-309-02|Annulation suppression|-|Cliquer supprimer ‚Üí Annuler|Op conserv√©e|

---

### 3.4 EPIC-04 : Interface Terrain (Karim)

**Personas concern√©s** : Karim (Technicien)

> ‚ö†Ô∏è **TESTS CRITIQUES UX** ‚Äî Ces tests valident l'objectif "z√©ro formation, <5min d'apprentissage"

#### TC-401 : Mes Interventions

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-401-01|Affichage filtr√©e|Karim connect√©, 5 ops assign√©es|Acc√©der "Mes interventions"|Liste des 5 ops de Karim uniquement|RG-020|
|TC-401-02|Tri par date intervention|Ops multi-dates|Voir liste|Tri√©es par date d'intervention croissante|-|
|TC-401-03|Mobile responsive|√âcran 375px largeur|Acc√©der|Interface lisible, boutons 56px min|RG-082|
|TC-401-04|Temps chargement|10 interventions|Charger page|Affichage <1s|NFR-PERF|

#### TC-402 : D√©tail Intervention

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-402-01|Ouverture d√©tail|Liste affich√©e|Cliquer sur une intervention|D√©tail avec infos compl√®tes|
|TC-402-02|Infos affich√©es|-|Voir d√©tail|Matricule, nom, segment, statut, checklist, docs|
|TC-402-03|Accessibilit√©|-|Navigation clavier|Tab navigable, focus visible|

#### TC-403 : Changement Statut 1 Clic

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-403-01|Bouton "D√©marrer"|Op "Planifi√©e"|Cliquer bouton vert "D√©marrer"|Statut ‚Üí "En cours", timestamp|RG-017, RG-021|
|TC-403-02|Bouton "Terminer"|Op "En cours"|Cliquer bouton bleu "Terminer"|Statut ‚Üí "Termin√©e"|RG-017, RG-021|
|TC-403-03|Bouton "√Ä rem√©dier"|Op "En cours"|Cliquer bouton orange "√Ä rem√©dier"|Statut ‚Üí "√Ä rem√©dier", motif optionnel|RG-017, RG-021|
|TC-403-04|Taille boutons|Mobile|Mesurer boutons|Minimum 56x56 pixels|RG-082|
|TC-403-05|Feedback visuel|Clic sur bouton|Observer|Toast confirmation, couleur chang√©e|-|

#### TC-404 : Retour Automatique

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-404-01|Retour apr√®s action|D√©tail intervention|Changer statut|Retour liste "Mes interventions"|
|TC-404-02|Position conserv√©e|Liste scroll√©e|Action + retour|Position de scroll conserv√©e|

---

### 3.5 EPIC-05 : Checklists

**Personas concern√©s** : Sophie (Template), Karim (Ex√©cution)

#### TC-501 : Cocher √âtape Checklist

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-501-01|Coche nominale|Checklist affich√©e|Cocher √©tape 1|√âtape marqu√©e ‚úì, timestamp enregistr√©|-|
|TC-501-02|D√©coche|√âtape coch√©e|D√©cocher|√âtape non coch√©e, timestamp supprim√©|-|
|TC-501-03|Zone tactile|Mobile|Toucher checkbox|Zone minimum 48x48px|RG-082|
|TC-501-04|Mise √† jour sans reload|√âtape coch√©e|Cocher|Turbo Frame update, pas de rechargement|-|

#### TC-502 : Progression Checklist

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-502-01|Calcul progression|5/10 √©tapes coch√©es|Voir progression|Barre 50%, texte "5/10"|
|TC-502-02|Progression par phase|3 phases|Voir|Progression globale + par phase|

#### TC-503 : Cr√©er Template Checklist (Sophie)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-503-01|Cr√©ation nominale|Sophie connect√©e|1. Cliquer "Nouveau template"<br>2. Nommer<br>3. Ajouter √©tapes<br>4. Sauver|Template v1.0 cr√©√©|RG-030|
|TC-503-02|√âtape avec doc li√©|Template en √©dition|Lier doc √† une √©tape|Lien actif dans checklist|RG-030|
|TC-503-03|Ordre √©tapes|5 √©tapes|Glisser-d√©poser √©tape 3 ‚Üí position 1|Nouvel ordre sauv√©|-|

#### TC-504 : Versioning Template (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-504-01|Nouvelle version|Template v1.0 existant|Modifier et sauver|Template v1.1 cr√©√©|RG-031|
|TC-504-02|Snapshot pr√©serv√©|Instance en cours sur v1.0|Cr√©er v1.1|Instance garde snapshot v1.0|RG-031|

#### TC-505 : Phases Template (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-505-01|Cr√©ation phases|Template en √©dition|Cr√©er "Pr√©paration", "Ex√©cution", "Validation"|3 phases avec √©tapes respectives|RG-032|

#### TC-506 : Consulter Document depuis Checklist (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-506-01|Ouverture PDF|Doc PDF li√© √† √©tape|Cliquer ic√¥ne doc|PDF ouvert dans nouvel onglet|

#### TC-507 : T√©l√©charger Script depuis Checklist (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-507-01|T√©l√©chargement|Script .ps1 li√©|Cliquer "T√©l√©charger"|Fichier t√©l√©charg√©|

---

### 3.6 EPIC-06 : Dashboard & Reporting

**Personas concern√©s** : Sophie (Gestionnaire), Direction

#### TC-601 : Dashboard Temps R√©el

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-601-01|Affichage KPIs|Campagne 150 ops|Acc√©der dashboard|Compteurs par statut, barre progression|RG-040|
|TC-601-02|Mise √† jour temps r√©el|Sophie sur dashboard|Karim change statut op|Dashboard mis √† jour <30s|RG-040, RG-081|
|TC-601-03|Performance|100k op√©rations|Charger dashboard|Affichage <500ms|NFR-PERF|

#### TC-602 : Progression par Segment

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-602-01|Vue par segment|3 segments|Voir section "Par segment"|3 barres de progression distinctes|
|TC-602-02|D√©tail segment|Segment "Site Nanterre"|Cliquer|Liste filtr√©e par segment|

#### TC-603 : Graphique V√©locit√© (V2)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-603-01|Courbe v√©locit√©|Campagne 7+ jours|Voir graphique|Courbe ops termin√©es/jour|

#### TC-604 : Export Dashboard PDF (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-604-01|Export nominal|Dashboard affich√©|Cliquer "Exporter PDF"|PDF t√©l√©charg√© avec KPIs + graphiques|

#### TC-605 : Partage URL Lecture Seule (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-605-01|G√©n√©ration lien|Dashboard campagne|Cliquer "Partager"|URL unique g√©n√©r√©e|RG-041|
|TC-605-02|Acc√®s anonyme|URL partag√©e|Acc√©der via lien (non connect√©)|Dashboard visible en lecture seule|RG-041|

#### TC-607 : Dashboard Multi-Campagnes

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-607-01|Vue globale|3 campagnes actives|Acc√©der dashboard global|Vue agr√©g√©e des 3 campagnes|
|TC-607-02|Drill-down|Vue globale|Cliquer sur campagne|D√©tail de la campagne|

#### TC-608 : Filtre Dashboard Global (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-608-01|Filtre par statut|Vue globale|Filtrer "En cours"|Seules campagnes "En cours"|

---

### 3.7 EPIC-07 : Base Documentaire

**Personas concern√©s** : Sophie (Gestionnaire)

#### TC-701 : Liste Documents

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-701-01|Affichage|10 docs|Acc√©der "Documents"|Liste pagin√©e avec nom, type, taille, date|

#### TC-702 : Upload Document

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-702-01|Upload PDF|Fichier PDF 5Mo|Drag & drop ou clic|Upload r√©ussi, aper√ßu visible|RG-050|
|TC-702-02|Upload > 50Mo|Fichier 60Mo|Tenter upload|Erreur "Fichier trop volumineux (max 50Mo)"|RG-050|
|TC-702-03|Upload .exe|Fichier script.exe|Upload|Upload r√©ussi (autoris√© interne)|RG-050|
|TC-702-04|Formats support√©s|.pdf, .docx, .xlsx, .png, .ps1|Uploader chaque|Tous accept√©s|RG-050|

#### TC-703 : Lier Document √† Campagne (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-703-01|Liaison nominale|Doc existant|Associer √† campagne "Migration DRSM"|Doc visible dans contexte campagne|RG-051|

#### TC-704 : Supprimer Document (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-704-01|Suppression|Doc non li√©|Supprimer|Doc supprim√©|
|TC-704-02|Suppression doc li√©|Doc li√© √† campagne|Supprimer|Warning "Document utilis√©", confirmation requise|

---

### 3.8 EPIC-08 : Configuration & Administration

**Personas concern√©s** : Sophie (Admin config), Marc (Admin syst√®me)

#### TC-801 : Types d'Op√©ration

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-801-01|Cr√©ation type|Admin connect√©|Cr√©er type "Migration PC" avec ic√¥ne + couleur|Type disponible dans dropdown campagne|RG-060|

#### TC-802 : Champs Personnalis√©s (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-802-01|Ajout champ texte|Type existant|Ajouter champ "R√©f√©rence SAP" (texte)|Champ disponible lors import/saisie|RG-061, RG-015|
|TC-802-02|Champ date|Type existant|Ajouter champ "Date garantie" (date)|Champ avec datepicker|RG-061|
|TC-802-03|Champ liste|Type existant|Ajouter champ "Mod√®le" (choix: Dell, HP, Lenovo)|Dropdown dans formulaire|RG-061|

#### TC-804 : Historique Modifications (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-804-01|Audit trail|Op√©ration modifi√©e|Voir historique|Liste : date, utilisateur, champ, ancienne/nouvelle valeur|RG-070|
|TC-804-02|Filtre par utilisateur|Historique long|Filtrer par "Sophie"|Seules modifs de Sophie||

#### TC-806 : Export/Import Configuration (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-806-01|Export config|Config personnalis√©e|Exporter JSON|Fichier avec types, champs, templates|RG-100|
|TC-806-02|Import config|Fichier JSON export|Importer sur nouvelle instance|Configuration restaur√©e|RG-100|

#### TC-807 : Profil Coordinateur (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-807-01|Cr√©ation coordinateur|Admin connect√©|Cr√©er utilisateur avec r√¥le Coordinateur|Peut positionner agents sans lien hi√©rarchique|RG-114|

#### TC-808 : Habilitations par Campagne (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-808-01|Habilitation lecture|Campagne cr√©√©e|Ajouter Direction en lecture seule|Direction voit mais ne modifie pas|RG-115|
|TC-808-02|Habilitation compl√®te|Campagne cr√©√©e|Ajouter Sophie en √©dition|Sophie peut modifier|RG-115|

---

### 3.9 EPIC-09 : Pr√©requis & Segments

**Personas concern√©s** : Sophie (Gestionnaire)

#### TC-901 : Pr√©requis Globaux (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-901-01|Affichage pr√©requis|Campagne avec pr√©requis|Voir onglet "Pr√©requis"|Liste avec statut (‚úì/‚úó)|RG-090|
|TC-901-02|Indicateur d√©claratif|Pr√©requis non valid√©|Observer|Pas de blocage op√©rations|RG-090|

#### TC-902 : Modifier Pr√©requis Global (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-902-01|Ajout pr√©requis|Campagne existante|Ajouter "Commande mat√©riel livr√©e"|Pr√©requis visible avec statut initial "‚ùå"|RG-090|
|TC-902-02|Validation pr√©requis|Pr√©requis existant|Cocher "Valid√©"|Statut ‚Üí "‚úì"|RG-090|

#### TC-903/904 : Pr√©requis par Segment (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-903-01|Pr√©requis segment|Segment "Site Nanterre"|Ajouter "Salle serveur pr√™te"|Pr√©requis sp√©cifique au segment|RG-091|

#### TC-905 : Cr√©er/Modifier Segments

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-905-01|Cr√©ation segment|Campagne existante|Ajouter segment "√âtage 4"|Segment cr√©√© avec couleur|
|TC-905-02|Modification couleur|Segment existant|Changer couleur|Couleur mise √† jour partout|

#### TC-906 : Progression par Segment

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-906-01|D√©tail segment|Segment avec 50 ops|Cliquer sur segment|Progression d√©taill√©e + liste ops|

---

### 3.10 EPIC-10 : Interface R√©servation (End-Users)

**Personas concern√©s** : Agent Impact√©, Manager M√©tier, Coordinateur

> ‚ö†Ô∏è **TESTS CRITIQUES UX** ‚Äî Parcours "type Doctolib", 3 clics max

#### TC-1001 : Voir Cr√©neaux Disponibles (Agent)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1001-01|Affichage cr√©neaux|Agent dans population cible|Acc√©der interface r√©servation|Calendrier avec cr√©neaux disponibles|RG-120|
|TC-1001-02|Filtrage segment|Agent segment "Site Nanterre"|Voir cr√©neaux|Seuls cr√©neaux de Nanterre|RG-120|
|TC-1001-03|Cr√©neaux pleins masqu√©s|Cr√©neau capacit√© atteinte|Voir calendrier|Cr√©neau non s√©lectionnable (gris√©)|-|

#### TC-1002 : Se Positionner sur Cr√©neau (Agent)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1002-01|R√©servation nominale|Agent authentifi√©|1. S√©lectionner cr√©neau<br>2. Confirmer|Cr√©neau r√©serv√©, email + ICS envoy√©s|RG-121, RG-122|
|TC-1002-02|Unicit√© r√©servation|Agent d√©j√† positionn√©|Tenter 2√®me cr√©neau|Erreur "Vous avez d√©j√† un cr√©neau"|RG-121|
|TC-1002-03|Parcours 3 clics|Agent sur interface|Compter clics jusqu'√† confirmation|Maximum 3 clics|NFR-UX|

#### TC-1003 : Annuler/Modifier Cr√©neau (Agent)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1003-01|Annulation|Cr√©neau r√©serv√© J-5|Annuler|Cr√©neau lib√©r√©, email confirmation|RG-123|
|TC-1003-02|Modification|Cr√©neau r√©serv√© J-5|Modifier ‚Üí autre cr√©neau|Nouveau cr√©neau, nouvel ICS|RG-123|
|TC-1003-03|Verrouillage J-2|Cr√©neau r√©serv√© J-1|Tenter annuler|Erreur "Modification impossible (verrouillage J-2)"|RG-123|

#### TC-1004 : R√©capitulatif Agent (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-1004-01|Affichage r√©cap|Agent avec cr√©neau|Acc√©der "Mon intervention"|Date, heure, lieu, instructions|

#### TC-1005 : Vue √âquipe (Manager)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1005-01|Liste agents|Manager connect√©|Acc√©der "Mon √©quipe"|Tableau agents avec statut (positionn√©/non)|RG-124|
|TC-1005-02|P√©rim√®tre limit√©|Manager service A|Voir √©quipe|Seuls agents service A|RG-124|

#### TC-1006 : Positionner Agent (Manager)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1006-01|Positionnement|Manager sur vue √©quipe|S√©lectionner agent + cr√©neau|Agent positionn√©, notification envoy√©e|RG-125, RG-126|
|TC-1006-02|Tra√ßabilit√©|Positionnement effectu√©|Voir audit|"Positionn√© par [Manager]" enregistr√©|RG-125|

#### TC-1007 : Modifier/Annuler pour Agent (Manager)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1007-01|Modification|Agent positionn√©|Manager modifie cr√©neau|Nouvel ICS, notification agent|RG-126|

#### TC-1008 : Alerte Concentration √âquipe (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1008-01|Warning >50%|6/10 agents m√™me jour|Voir dashboard manager|Alerte "Attention: concentration d'absences"|RG-127|

#### TC-1010 : Positionner (Coordinateur) (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1010-01|Positionnement transverse|Coordinateur habilit√©|Positionner agent autre service|Agent positionn√©, tra√ßabilit√©|RG-114, RG-125|

#### TC-1011 : Auth Carte Agent (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1011-01|Connexion carte|Agent avec carte|Badger|Authentification automatique|RG-128|
|TC-1011-02|Fallback AD|Carte non reconnue|Saisir login/mdp AD|Connexion via AD|RG-128|

---

### 3.11 EPIC-11 : Gestion des Cr√©neaux & Capacit√©

**Personas concern√©s** : Sophie (Gestionnaire)

#### TC-1101 : Cr√©er Cr√©neaux

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1101-01|Cr√©ation manuelle|Campagne cr√©√©e|Cr√©er cr√©neau 14h-15h le 15/02|Cr√©neau disponible|RG-130|
|TC-1101-02|G√©n√©ration auto|Plage horaire d√©finie|G√©n√©rer cr√©neaux 9h-17h (1h/slot) pour 5 jours|40 cr√©neaux cr√©√©s|RG-130|

#### TC-1102 : Capacit√© IT (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1102-01|D√©finir ressources|Configuration campagne|D√©finir 5 techniciens disponibles|Capacit√© calcul√©e automatiquement|RG-131|

#### TC-1103 : Dur√©e Intervention (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1103-01|Abaque par type|Type "Migration PC"|D√©finir dur√©e 45 min|Cr√©neaux g√©n√©r√©s avec cette dur√©e|RG-132|

#### TC-1104 : Modifier Cr√©neau

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1104-01|Modification horaire|Cr√©neau existant|Changer 14h ‚Üí 15h|Cr√©neau mis √† jour, agents notifi√©s|RG-133|

#### TC-1105 : Supprimer Cr√©neau

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1105-01|Suppression vide|Cr√©neau sans r√©servation|Supprimer|Cr√©neau supprim√©|RG-134|
|TC-1105-02|Suppression avec r√©sa|Cr√©neau avec 3 agents|Supprimer|Confirmation requise, agents notifi√©s|RG-134|

#### TC-1106 : Taux de Remplissage

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|
|---|---|---|---|---|
|TC-1106-01|Affichage taux|Cr√©neaux avec r√©servations|Voir dashboard cr√©neaux|Taux global + par cr√©neau (ex: "15/20 - 75%")|

#### TC-1107 : Verrouillage J-X (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1107-01|Config verrouillage|Configuration campagne|D√©finir verrouillage J-3|Cr√©neaux non modifiables 3 jours avant|RG-123|

#### TC-1108 : Cr√©neaux par Segment (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1108-01|Association segment|Cr√©neaux existants|Associer cr√©neaux 14h-16h au segment "Site Nanterre"|Seuls agents Nanterre voient ces cr√©neaux|RG-135|

---

### 3.12 EPIC-12 : Notifications & Agenda

**Personas concern√©s** : Agent Impact√©, Manager M√©tier

#### TC-1201 : Email Confirmation avec ICS (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1201-01|Email envoy√©|Agent se positionne|Confirmer r√©servation|Email re√ßu avec fichier .ics|RG-140|
|TC-1201-02|Contenu ICS|Email re√ßu|Ouvrir .ics|√âv√©nement avec date, heure, lieu, description|RG-140|
|TC-1201-03|Import Outlook|Fichier .ics|Double-clic|√âv√©nement ajout√© au calendrier|-|

#### TC-1202 : Email Rappel J-2 (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1202-01|Envoi automatique|Agent positionn√© pour J+2|Attendre J-2 √† 9h|Email rappel envoy√©|RG-141|

#### TC-1203 : Email Modification (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1203-01|Contenu email|Manager modifie cr√©neau agent|Email envoy√©|Contient ancien cr√©neau + nouveau + nouvel ICS|RG-142|

#### TC-1204 : Email Annulation (V1)

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1204-01|Contenu email|Cr√©neau annul√©|Email envoy√©|Contient lien vers interface repositionnement|RG-143|

#### TC-1205 : Email Invitation Initiale

|ID|Sc√©nario|Pr√©conditions|Actions|R√©sultat Attendu|RG|
|---|---|---|---|---|---|
|TC-1205-01|Mode Agent|Campagne mode "Agent"|Lancer inscriptions|Email envoy√© √† tous les agents de la liste|RG-144|
|TC-1205-02|Mode Manager|Campagne mode "Manager"|Lancer inscriptions|Email envoy√© aux managers|RG-144|

---

## 4. Tests d'Accessibilit√© RGAA 4.1

### 4.1 Crit√®res √† Valider

|Th√©matique|Crit√®res|Outil de Test|
|---|---|---|
|**Images**|Alternatives textuelles|axe-core|
|**Cadres**|Titres de frames|Manuel|
|**Couleurs**|Contraste 4.5:1 (texte), 3:1 (grand)|Color Contrast Analyzer|
|**Multim√©dia**|Sous-titres, audiodescription|N/A (pas de vid√©o)|
|**Tableaux**|Ent√™tes, structure|axe-core|
|**Liens**|Intitul√©s explicites|axe-core|
|**Scripts**|Alternatives, compatibilit√©|Manuel + NVDA|
|**√âl√©ments obligatoires**|Langue, titre, validit√© HTML|axe-core|
|**Structuration**|Titres, listes, landmarks|axe-core|
|**Pr√©sentation**|CSS d√©sactivable, espacement|Manuel|
|**Formulaires**|Labels, erreurs, regroupements|axe-core|
|**Navigation**|Skip links, plan du site, fil d'Ariane|Manuel|
|**Consultation**|D√©lais, contenus en mouvement|Manuel|

### 4.2 Sc√©narios de Test Accessibilit√©

|ID|Sc√©nario|Outil|Crit√®re d'Acceptation|RG|
|---|---|---|---|---|
|A11Y-001|Navigation clavier compl√®te|Manuel + NVDA|Tab/Shift+Tab sur tous √©l√©ments interactifs|RG-080|
|A11Y-002|Focus visible|Manuel|Indicateur focus min 2px|RG-081|
|A11Y-003|Boutons terrain 56px|Manuel|Taille min 56x56px mesur√©e|RG-082|
|A11Y-004|Checkboxes 48px|Manuel|Zone tactile 48x48px|RG-082|
|A11Y-005|Contraste texte|CCA|Ratio ‚â•4.5:1 (normal), ‚â•3:1 (grand)|RG-083|
|A11Y-006|Contraste boutons|CCA|Ratio ‚â•3:1 (graphiques UI)|RG-083|
|A11Y-007|Lecteur d'√©cran|NVDA + Firefox|Parcours Sophie complet vocalis√©|RG-084|
|A11Y-008|Lecteur d'√©cran mobile|VoiceOver iOS|Parcours Karim vocalis√©|RG-084|
|A11Y-009|Zoom 200%|Firefox|Interface utilisable sans scroll horizontal|RG-085|
|A11Y-010|Mode sombre|Manuel|Design tokens altern√©s, contraste maintenu|-|

### 4.3 Audit Automatis√©

```bash
# Script d'audit axe-core
npx playwright test --grep @a11y

# Rapport Ara (si disponible)
ara audit --url http://localhost/dashboard --output report.html
```

---

## 5. Tests de Performance

### 5.1 Objectifs de Performance (NFR-PERF)

|M√©trique|Cible|Condition|
|---|---|---|
|**Dashboard <500ms**|P95 < 500ms|100k op√©rations, 50 users simultan√©s|
|**Import CSV**|<30s|10k lignes sync, >10k async|
|**Recherche**|<200ms|Index GIN sur JSONB|
|**Page liste**|<300ms|Pagination 50 lignes|

### 5.2 Sc√©narios de Charge (k6)

```javascript
// k6/scenarios/dashboard_load.js
import http from 'k6/http';
import { check, sleep } from 'k6';

export const options = {
  stages: [
    { duration: '30s', target: 10 },   // Mont√©e √† 10 users
    { duration: '1m', target: 50 },    // Mont√©e √† 50 users
    { duration: '2m', target: 50 },    // Plateau
    { duration: '30s', target: 0 },    // Descente
  ],
  thresholds: {
    http_req_duration: ['p(95)<500'],  // 95% < 500ms
    http_req_failed: ['rate<0.01'],    // <1% erreurs
  },
};

export default function () {
  // TC-PERF-001: Dashboard avec 100k ops
  const dashRes = http.get('http://localhost/campagne/1/dashboard');
  check(dashRes, {
    'dashboard status 200': (r) => r.status === 200,
    'dashboard < 500ms': (r) => r.timings.duration < 500,
  });
  
  sleep(1);
  
  // TC-PERF-002: Liste op√©rations pagin√©e
  const listRes = http.get('http://localhost/campagne/1/operations?page=1');
  check(listRes, {
    'list status 200': (r) => r.status === 200,
    'list < 300ms': (r) => r.timings.duration < 300,
  });
  
  sleep(2);
}
```

### 5.3 Cas de Test Performance

|ID|Sc√©nario|Charge|M√©triques|Seuil|
|---|---|---|---|---|
|PERF-001|Dashboard 100k ops|50 users|Response time P95|<500ms|
|PERF-002|Import CSV 100k lignes|1 user|Temps total|<5min (async)|
|PERF-003|Recherche JSONB|20 users|Response time P95|<200ms|
|PERF-004|Turbo Stream updates|100 ops/min|Latence|<1s|
|PERF-005|Export CSV 10k|5 users|Temps g√©n√©ration|<30s|

---

## 6. Tests de S√©curit√©

### 6.1 Checklist OWASP Top 10

|#|Vuln√©rabilit√©|Test|Crit√®re|
|---|---|---|---|
|A01|Broken Access Control|Tenter acc√®s ressources non autoris√©es|403 syst√©matique|
|A02|Cryptographic Failures|V√©rifier HTTPS, hachage mdp|bcrypt, TLS 1.2+|
|A03|Injection|SQL injection sur recherche|Requ√™tes pr√©par√©es|
|A04|Insecure Design|Revue architecture|Voters Symfony|
|A05|Security Misconfiguration|Headers, expositions|CSP, X-Frame-Options|
|A06|Vulnerable Components|Audit d√©pendances|0 CVE critique|
|A07|Auth Failures|Brute force, session fixation|Rate limiting, rotation|
|A08|Software & Data Integrity|CSRF tokens|Token sur tous POST|
|A09|Logging Failures|Audit trail complet|auditor-bundle|
|A10|SSRF|Upload documents|Validation MIME|

### 6.2 Sc√©narios de Test S√©curit√©

|ID|Sc√©nario|Actions|R√©sultat Attendu|
|---|---|---|---|
|SEC-001|Acc√®s non authentifi√©|GET /dashboard sans session|Redirect /login|
|SEC-002|Acc√®s Karim √† admin|Karim tente GET /admin|403 Forbidden|
|SEC-003|CSRF sur modification|POST sans token CSRF|403 Forbidden|
|SEC-004|Injection SQL recherche|Rechercher "'; DROP TABLE --"|0 r√©sultat, pas d'erreur|
|SEC-005|XSS dans commentaire|Ins√©rer `<script>alert(1)</script>`|√âchapp√© √† l'affichage|
|SEC-006|Brute force login|10 tentatives rapides|Rate limit apr√®s 5|
|SEC-007|Session fixation|Injecter session_id|Nouvelle session apr√®s login|
|SEC-008|Upload malveillant|Upload fichier.php.png|Rejet√© ou stock√© hors webroot|
|SEC-009|IDOR op√©ration|GET /operation/999 (autre campagne)|403 Forbidden|
|SEC-010|Audit modification|Modifier op√©ration|Entr√©e audit trail|

---

## 7. Matrice de Tra√ßabilit√© Tests ‚Üî Requirements

### 7.1 Couverture par EPIC

|EPIC|US|Tests Fonctionnels|Tests A11Y|Tests Perf|Tests S√©cu|
|---|---|---|---|---|---|
|EPIC-01|7|TC-101 √† TC-107|A11Y-001|-|SEC-001 √† SEC-007|
|EPIC-02|12|TC-201 √† TC-212|-|PERF-002|SEC-003, SEC-004|
|EPIC-03|9|TC-301 √† TC-309|-|PERF-001, PERF-003|SEC-009|
|EPIC-04|4|TC-401 √† TC-404|A11Y-003, A11Y-008|-|-|
|EPIC-05|8|TC-501 √† TC-507|A11Y-004|-|-|
|EPIC-06|8|TC-601 √† TC-608|A11Y-001, A11Y-009|PERF-001, PERF-004|-|
|EPIC-07|5|TC-701 √† TC-704|-|-|SEC-008, SEC-010|
|EPIC-08|8|TC-801 √† TC-808|-|-|SEC-002|
|EPIC-09|6|TC-901 √† TC-906|-|-|-|
|EPIC-10|12|TC-1001 √† TC-1011|A11Y-001|-|SEC-001|
|EPIC-11|8|TC-1101 √† TC-1108|-|-|-|
|EPIC-12|6|TC-1201 √† TC-1205|-|-|-|

### 7.2 Couverture R√®gles M√©tier

|RG|Description|Tests Couvrant|
|---|---|---|
|RG-001|Authentification email/mdp|TC-101-_, TC-107-_|
|RG-005|D√©sactivation utilisateur|TC-105-*|
|RG-006|Verrouillage 5 √©checs|TC-101-04, TC-101-05|
|RG-010|Workflow campagne|TC-201-01|
|RG-012|Import CSV 100k|TC-203-*, PERF-002|
|RG-017|Workflow op√©ration|TC-304-_, TC-403-_|
|RG-040|Dashboard temps r√©el|TC-601-02, PERF-004|
|RG-080|Accessibilit√© clavier|A11Y-001|
|RG-082|Cibles tactiles 48/56px|A11Y-003, A11Y-004|
|RG-121|Unicit√© r√©servation|TC-1002-02|
|RG-122|Email ICS|TC-1201-*|

---

## 8. Crit√®res d'Acceptation Globaux

### 8.1 Crit√®res GO/NO-GO par Phase

|Phase|Crit√®res de Passage|Seuil|
|---|---|---|
|**MVP**|Tests fonctionnels EPIC 01-09|100% passants|
||Couverture code|‚â•70%|
||Tests A11Y auto|0 erreur axe-core|
||Performance dashboard|<500ms P95|
|**V1**|Tests fonctionnels complets|100% passants|
||Couverture code|‚â•80%|
||Audit RGAA|100% crit√®res A+AA|
||Test charge 50 users|<1% erreurs|
||Audit s√©curit√©|0 critique OWASP|

### 8.2 Crit√®res de Non-R√©gression

Tout nouveau d√©veloppement doit maintenir:

- 0 test existant cass√©
- Couverture ‚â• couverture pr√©c√©dente
- Performance ‚â§ +10% temps r√©ponse

---

## 9. Planning d'Ex√©cution

### 9.1 Calendrier de Test

```mermaid
gantt
    title Planning Tests OpsTracker
    dateFormat YYYY-MM-DD
    
    section Tests Continus
    Tests unitaires (CI)           :active, 2026-01-20, 90d
    Tests int√©gration (CI)         :active, 2026-01-27, 83d
    
    section MVP
    Tests fonctionnels EPIC 01-04  :2026-02-10, 14d
    Tests fonctionnels EPIC 05-09  :2026-02-24, 14d
    Tests A11Y auto                :2026-03-10, 7d
    Tests perf baseline            :2026-03-17, 7d
    Recette MVP                    :milestone, 2026-03-24, 0d
    
    section V1
    Tests fonctionnels EPIC 10-12  :2026-03-24, 21d
    Audit RGAA complet             :2026-04-14, 14d
    Test charge V1                 :2026-04-21, 7d
    Audit s√©curit√©                 :2026-04-28, 7d
    Recette V1                     :milestone, 2026-05-05, 0d
```

### 9.2 R√¥les et Responsabilit√©s

|R√¥le|Responsabilit√©|Personne|
|---|---|---|
|**Test Lead**|Coordination, reporting|Alexandre (DSI)|
|**Dev Tests**|Tests unitaires & int√©gration|√âquipe dev|
|**QA Fonctionnel**|Tests E2E, sc√©narios m√©tier|Sophie (r√©f√©rente m√©tier)|
|**Expert A11Y**|Audit RGAA, NVDA|Prestataire externe|
|**Ops**|Tests perf, s√©curit√©|Marc (Admin)|

---

## 10. Annexes

### 10.1 Templates de Rapport de Test

```markdown
# Rapport de Test - [EPIC-XX] - [Date]

## R√©sum√© Ex√©cution
- **Tests pr√©vus**: XX
- **Tests ex√©cut√©s**: XX
- **Passants**: XX (XX%)
- **√âchou√©s**: XX (XX%)
- **Bloqu√©s**: XX

## Anomalies D√©tect√©es
| ID | S√©v√©rit√© | Description | Statut |
|----|----------|-------------|--------|
| BUG-XXX | üî¥ Bloquant | ... | Ouvert |

## Conclusion
[ ] GO pour phase suivante
[ ] NO-GO - corrections requises
```

### 10.2 Glossaire des Statuts de Test

|Statut|Ic√¥ne|D√©finition|
|---|---|---|
|**Passant**|‚úÖ|R√©sultat conforme aux attentes|
|**√âchou√©**|‚ùå|R√©sultat diff√©rent des attentes|
|**Bloqu√©**|‚õî|Impossible √† ex√©cuter (pr√©requis KO)|
|**Non ex√©cut√©**|‚è∏Ô∏è|Pr√©vu mais pas encore test√©|
|**Hors scope**|‚ûñ|Exclu du p√©rim√®tre de test|

---

**Niveau de confiance : 95%**

_Les 5% d'incertitude portent sur : les sc√©narios edge-case non document√©s qui pourraient √©merger lors des tests exploratoires._

---

**Statut** : üü¢ **PLAN DE TEST PR√äT POUR EX√âCUTION**

|√âl√©ment|Quantit√©|
|---|---|
|Cas de test fonctionnels|~150|
|Cas de test A11Y|10|
|Cas de test performance|5|
|Cas de test s√©curit√©|10|

_Document produit par le framework BA-AI ‚Äî Phase P5.1_